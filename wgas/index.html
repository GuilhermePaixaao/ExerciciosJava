<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Desenho de Polígono</title>
<style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(120deg, #f8fafc 0%, #e0e7ef 100%);
    min-height: 100vh;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
  }
  h2 {
    margin-top: 40px;
    color: #2d3748;
    letter-spacing: 1px;
    font-size: 2rem;
  }
  .container {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    padding: 32px 40px 24px 40px;
    margin-top: 32px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  canvas {
    border: 2px solid #a0aec0;
    background: #f9fafb;
    border-radius: 12px;
    margin-bottom: 32px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  }
  .controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px 32px;
    width: 100%;
    max-width: 420px;
    margin-top: 0;
  }
  .control-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
  label {
    font-size: 1rem;
    color: #374151;
    margin-bottom: 6px;
    font-weight: 500;
  }
  input[type="range"] {
    width: 180px;
    accent-color: #6366f1;
    margin-bottom: 0;
    height: 3px;
    background: #e5e7eb;
    border-radius: 4px;
  }
  @media (max-width: 700px) {
    .container {
      padding: 16px 8px;
    }
    .controls {
      grid-template-columns: 1fr;
      max-width: 100%;
      gap: 14px 0;
    }
    canvas {
      width: 90vw !important;
      height: 90vw !important;
      max-width: 98vw;
      max-height: 98vw;
    }
  }
</style>
</head>
<body>

<h2>Polígono com Transformações</h2>

<div class="container">
  <canvas id="canvas" width="600" height="600"></canvas>

  <div class="controls">
    <div class="control-group">
      <label for="sliderX">X:</label>
      <input type="range" id="sliderX" min="-300" max="300" value="0">
    </div>
    <div class="control-group">
      <label for="sliderY">Y:</label>
      <input type="range" id="sliderY" min="-300" max="300" value="0">
    </div>
    <div class="control-group">
      <label for="sliderScale">Escala:</label>
      <input type="range" id="sliderScale" min="10" max="200" value="100">
    </div>
    <div class="control-group">
      <label for="sliderRot">Rotação:</label>
      <input type="range" id="sliderRot" min="0" max="3" value="0">
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

const cx = 300, cy = 300;
const r = 150;

// cores
const cores = [
  'rgb(255,182,193)',
  'rgb(173,216,230)',
  'rgb(144,238,144)',
  'rgb(255,218,185)',
  'rgb(221,160,221)',
  'rgb(255,255,224)',
  'rgb(255,160,122)',
  'rgb(176,224,230)',
  'rgb(152,251,152)',
  'rgb(255,228,196)'
];

// sliders
const sliderX = document.getElementById('sliderX');
const sliderY = document.getElementById('sliderY');
const sliderScale = document.getElementById('sliderScale');
const sliderRot = document.getElementById('sliderRot');

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  let dx = parseInt(sliderX.value);
  let dy = parseInt(sliderY.value);
  let scale = parseInt(sliderScale.value)/100;
  let rotSteps = parseInt(sliderRot.value);

  ctx.save();

  // aplicar transformações
  ctx.translate(cx + dx, cy + dy);
  ctx.scale(scale, scale);
  ctx.rotate(rotSteps * Math.PI/2);
  ctx.translate(-cx, -cy);

  // vértices do hexágono
  let vertices = [];
  for(let i=0;i<6;i++){
    let ang = Math.PI/6 + i*Math.PI/3;
    let x = cx + r*Math.cos(ang);
    let y = cy + r*Math.sin(ang);
    vertices.push({x,y});
  }

  // pontos fixos p1, p2, p3
  const p1 = {x:300, y:373};
  const p2 = {x:360, y:270};
  const p3 = {x:240, y:270};

  function poligono(cor, pontos){
    ctx.beginPath();
    ctx.moveTo(pontos[0].x,pontos[0].y);
    for(let i=1;i<pontos.length;i++) ctx.lineTo(pontos[i].x,pontos[i].y);
    ctx.closePath();
    ctx.fillStyle = cor;
    ctx.fill();
    ctx.strokeStyle = 'black';
    ctx.lineWidth = 2;
    ctx.stroke();
  }

  function preencherPoligono(cor, pontos){
    ctx.beginPath();
    ctx.moveTo(pontos[0].x,pontos[0].y);
    for(let i=1;i<pontos.length;i++) ctx.lineTo(pontos[i].x,pontos[i].y);
    ctx.closePath();
    ctx.fillStyle = cor;
    ctx.fill();
  }

  poligono(cores[0],[p1,p2,p3]);
  poligono(cores[1],[p3,vertices[2],vertices[3]]);
  poligono(cores[2],[p3,vertices[3],vertices[4]]);
  poligono(cores[3],[p2,vertices[4],vertices[5]]);
  poligono(cores[4],[p2,vertices[5],vertices[0]]);
  poligono(cores[5],[p1,vertices[1],vertices[2]]);
  poligono(cores[6],[p1,vertices[0],vertices[1]]);

  preencherPoligono(cores[7],[vertices[4],p2,p3]);
  preencherPoligono(cores[8],[vertices[2],p1,p3]);
  preencherPoligono(cores[9],[vertices[0],p1,p2]);

  ctx.restore();
}

// eventos sliders
[sliderX, sliderY, sliderScale, sliderRot].forEach(slider=>{
  slider.addEventListener('input', draw);
});

// desenhar inicialmente
draw();
</script>

</body>
</html>
